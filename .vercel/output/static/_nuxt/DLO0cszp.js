import{n as v,K as b,r as S,g as w,y as h,o as P,c as k,a as s,t as u,u as e,b as o,J as B,F as x,d as I,H as C,I as $,B as M,L as A,s as T,A as p,_ as F,M as N,w as V,C as q}from"./CEN8DjsT.js";import{s as z,_ as E}from"./B6XVykHg.js";import{_ as U}from"./BWZVumzT.js";import j from"./BrX4BMWe.js";const D={class:"custom-background flex flex-col w-100 flex flex-col justify-items-end"},G={class:"custom-background-desc w-full absolute bottom-0"},H={class:"w-96 bg-green mx-auto flex flex-col gap-4 sm:m-0 sm:ml-20 sm:gap-6 sm:w-1/2 md:w-1/3"},J={class:"text-content text-3xl font-bold sm:text-5xl"},K={class:"text-subtitle text-base sm:text-xl"},L={class:"flex gap-4 sm:mt-6 sm:gap-6"},R=["href"],O=v({__name:"PopularStream",setup(y){const t=b(),a=S(t.getIndexPopularStream),r=S({iSave:!1,titleSave:"Adicionar à lista",titleUnsave:"Adicionado a lista"}),m=async()=>{try{t.getPopularStreams.length===0&&t.setPopularStreams(await A("all",1))}catch(n){console.error("Erro na requisição:",n)}},i=()=>{a.value=(a.value+1)%t.getPopularStreams.length,r.value.iSave=p(t.getPopularStreams[a.value]),t.setIndexPopularStream(a.value)},c=n=>{T(t.getPopularStreams[t.getIndexPopularStream]),r.value.iSave=p(t.getPopularStreams[a.value])};return w(()=>t.popularStreams,n=>{n.length>0&&(r.value.iSave=p(t.getPopularStreams[a.value]),z(i,6e4))},{immediate:!0}),h(async()=>{m()}),(n,l)=>{var d,g,_,f;return P(),k("div",D,[s("div",{class:"custom-background-size relative bg-cover bg-no-repeat bg-center sm:py-24 sm:px-5 sm:bg-fixed sm:grid",style:M(`background-image: url('https://image.tmdb.org/t/p/original${(d=e(t).getPopularStreams[e(a)])==null?void 0:d.poster_path}');`)},[s("div",G,[s("div",H,[s("span",J,u((g=e(t).getPopularStreams[e(a)])==null?void 0:g.title),1),s("p",K,u((_=e(t).getPopularStreams[e(a)])==null?void 0:_.overview),1),s("div",L,[s("a",{href:`https://www.youtube.com/results?search_query=${(f=e(t).getPopularStreams[e(a)])==null?void 0:f.title} Trailer`,target:"”_blank”",class:"custom-hover-trailer transition-transform transition-300 transition-ease bg-primary rounded-full px-4 py-3 flex gap-2 items-center text-app font-bold"},[o(e(x),{icon:e(B)},null,8,["icon"]),l[1]||(l[1]=I(" Trailer "))],8,R),s("button",{onClick:l[0]||(l[0]=W=>c(e(t).getPopularStreams[e(a)])),class:"bg-transparent rounded-full px-4 py-3 text-primary flex gap-2 items-center border-solid border-2 border-primary sm:hover:bg-primary sm:hover:bg-opacity-15"},[o(e(x),{icon:e(r).iSave?e(C):e($)},null,8,["icon"]),s("span",null,u(e(r).iSave?e(r).titleUnsave:e(r).titleSave),1)])])])])],4)])}}}),Q=F(O,[["__scopeId","data-v-94f1e1ba"]]),te=v({__name:"index",setup(y){const t=b();return h(async()=>{await N("all",1)}),(a,r)=>{const m=Q,i=E,c=U;return P(),k(q,null,[o(m),o(j,null,{default:V(()=>[o(i),o(c,{"grup-stream":e(t).getStreams},null,8,["grup-stream"])]),_:1})],64)}}});export{te as default};
