import{n as b,R as P,r as x,g as S,y as h,o as T,c as k,a as s,t as i,u as t,b as n,J as w,F as d,d as C,H as B,I as $,B as I,L as F,s as G,A as f,_ as M,O as A,w as R,C as N,M as V,P as j,Q as q}from"./CEN8DjsT.js";import{s as z,_ as E}from"./B6XVykHg.js";import{_ as H}from"./BTaWauQD.js";import{_ as L}from"./BWZVumzT.js";import U from"./BrX4BMWe.js";const D={class:"custom-background flex flex-col w-100 flex flex-col justify-items-end"},J={class:"custom-background-desc w-full absolute bottom-0"},O={class:"w-96 bg-green mx-auto flex flex-col gap-4 sm:m-0 sm:ml-20 sm:gap-6 sm:w-1/2 md:w-1/3"},Q={class:"text-content text-3xl font-bold sm:text-5xl"},K={class:"text-subtitle text-base sm:text-xl"},W={class:"flex gap-4 sm:mt-6 sm:gap-6"},X=["href"],Y=b({__name:"PopularTv",setup(y){const e=P(),a=x(e.getIndexPopularTv),o=x({iSave:!1,titleSave:"Adicionar à lista",titleUnsave:"Adicionado a lista"}),_=async()=>{try{e.getPopularTvs.length===0&&e.setPopularTvs(await F("tv",1))}catch(r){console.error("Erro na requisição:",r)}},v=()=>{a.value=(a.value+1)%e.getPopularTvs.length,o.value.iSave=f(e.getPopularTvs[a.value]),e.setIndexPopularTv(a.value)},c=()=>{G(e.getPopularTvs[e.getIndexPopularTv]),o.value.iSave=f(e.getPopularTvs[a.value])};return S(()=>e.popularTvs,r=>{r.length>0&&(o.value.iSave=f(e.getPopularTvs[a.value]),z(v,6e4))},{immediate:!0}),h(async()=>{_()}),(r,l)=>{var u,m,p,g;return T(),k("div",D,[s("div",{class:"custom-background-size relative bg-cover bg-no-repeat bg-center sm:py-24 sm:px-5 sm:h-screen sm:bg-fixed sm:grid",style:I(`background-image: url('https://image.tmdb.org/t/p/original${(u=t(e).getPopularTvs[t(a)])==null?void 0:u.poster_path}');`)},[s("div",J,[s("div",O,[s("span",Q,i((m=t(e).getPopularTvs[t(a)])==null?void 0:m.name),1),s("p",K,i((p=t(e).getPopularTvs[t(a)])==null?void 0:p.overview),1),s("div",W,[s("a",{href:`https://www.youtube.com/results?search_query=${(g=t(e).getPopularTvs[t(a)])==null?void 0:g.name} Trailer`,target:"”_blank”",class:"custom-hover-trailer transition-transform transition-300 transition-ease bg-primary rounded-full px-4 py-3 flex gap-2 items-center text-app font-bold"},[n(t(d),{icon:t(w)},null,8,["icon"]),l[1]||(l[1]=C(" Trailer "))],8,X),s("button",{onClick:l[0]||(l[0]=se=>c()),class:"bg-transparent rounded-full px-4 py-3 text-primary flex gap-2 items-center border-solid border-2 border-primary sm:hover:bg-primary sm:hover:bg-opacity-15"},[n(t(d),{icon:t(o).iSave?t(B):t($)},null,8,["icon"]),s("span",null,i(t(o).iSave?t(o).titleUnsave:t(o).titleSave),1)])])])])],4)])}}}),Z=M(Y,[["__scopeId","data-v-08a666af"]]),ee={class:"flex justify-center gap-6 mt-4 font-base text-primary"},te=["disabled"],ae=["disabled"],ce=b({__name:"serie",setup(y){const e=P(),{currentPage:a,totalPages:o}=A(e),_=()=>{e.currentPage>1&&e.fetchPage(e.currentPage-1)},v=()=>{e.currentPage<e.totalPages&&e.fetchPage(e.currentPage+1)},c=async r=>{typeof r=="number"&&(e.setCurrentGenre(r),await V("tv",e.getCurrentPage,r))};return h(()=>{c(e.getCurrentGenre),e.fetchPage(e.getCurrentPage)}),(r,l)=>{const u=Z,m=E,p=H,g=L;return T(),k(N,null,[n(u),n(U,null,{default:R(()=>[n(m),n(p,{class:"mt-6 mb-4 sm:mt-12 sm:mb-10",filter:t(e).getCurrentGenre,"values-filter":t(e).getGenres,onHandleFilter:c},null,8,["filter","values-filter"]),n(g,{class:"pt-0","grup-stream":t(e).getTvs},null,8,["grup-stream"]),s("div",ee,[s("button",{onClick:_,disabled:t(a)===1},[n(t(d),{icon:t(j)},null,8,["icon"])],8,te),s("span",null,i(t(a))+" - "+i(t(o)),1),s("button",{onClick:v,disabled:t(a)===t(o)},[n(t(d),{icon:t(q)},null,8,["icon"])],8,ae)])]),_:1})],64)}}});export{ce as default};
