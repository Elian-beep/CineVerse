import{n as b,r as x,N as P,g as S,y as h,o as M,c as k,a as s,t as l,u as e,b as n,J as w,F as d,d as C,H as B,I as $,B as I,L as F,s as G,A as _,_ as T,O as A,w as N,C as R,M as V,P as j,Q as q}from"./BJJu-wTP.js";import{s as z,_ as E}from"./DqHAJveA.js";import{_ as H}from"./CItmxd_i.js";import{_ as L}from"./DfWXXaJ0.js";import U from"./BEaEGi7T.js";const D={class:"custom-background flex flex-col w-100 flex flex-col justify-items-end"},J={class:"custom-background-desc w-full absolute bottom-0"},O={class:"w-96 bg-green mx-auto flex flex-col gap-4 sm:m-0 sm:ml-20 sm:gap-6 sm:w-1/2 md:w-1/3"},Q={class:"text-content text-3xl font-bold sm:text-5xl"},K={class:"text-subtitle text-base sm:text-xl"},W={class:"flex gap-4 sm:mt-6 sm:gap-6"},X=["href"],Y=b({__name:"PopularMovie",setup(y){const t=x({iSave:!1,titleSave:"Adicionar à lista",titleUnsave:"Adicionado a lista"}),o=P(),a=x(o.getIndexPopularMovie),f=async()=>{try{o.getPopularMovies.length===0&&o.setPopularMovies(await F("movie",1))}catch(r){console.error("Erro na requisição:",r)}},v=()=>{a.value=(a.value+1)%o.getPopularMovies.length,t.value.iSave=_(o.getPopularMovies[a.value]),o.setIndexPopularMovie(a.value)},c=()=>{G(o.getPopularMovies[o.getIndexPopularMovie]),t.value.iSave=_(o.getPopularMovies[a.value])};return S(()=>o.popularMovies,r=>{r.length>0&&(t.value.iSave=_(o.getPopularMovies[a.value]),z(v,6e4))},{immediate:!0}),h(async()=>{f()}),(r,i)=>{var u,m,p,g;return M(),k("div",D,[s("div",{class:"custom-background-size relative bg-cover bg-no-repeat bg-center sm:py-24 sm:px-5 sm:h-screen sm:bg-fixed sm:grid",style:I(`background-image: url('https://image.tmdb.org/t/p/original${(u=e(o).getPopularMovies[e(a)])==null?void 0:u.poster_path}');`)},[s("div",J,[s("div",O,[s("span",Q,l((m=e(o).getPopularMovies[e(a)])==null?void 0:m.title),1),s("p",K,l((p=e(o).getPopularMovies[e(a)])==null?void 0:p.overview),1),s("div",W,[s("a",{href:`https://www.youtube.com/results?search_query=${(g=e(o).getPopularMovies[e(a)])==null?void 0:g.title} Trailer`,target:"”_blank”",class:"custom-hover-trailer transition-transform transition-300 transition-ease bg-primary rounded-full px-4 py-3 flex gap-2 items-center text-app font-bold"},[n(e(d),{icon:e(w)},null,8,["icon"]),i[1]||(i[1]=C(" Trailer "))],8,X),s("button",{onClick:i[0]||(i[0]=ae=>c()),class:"bg-transparent rounded-full px-4 py-3 text-primary flex gap-2 items-center border-solid border-2 border-primary sm:hover:bg-primary sm:hover:bg-opacity-15"},[n(e(d),{icon:e(t).iSave?e(B):e($)},null,8,["icon"]),s("span",null,l(e(t).iSave?e(t).titleUnsave:e(t).titleSave),1)])])])])],4)])}}}),Z=T(Y,[["__scopeId","data-v-ff4acf6d"]]),ee={class:"flex justify-center gap-6 mt-4 font-base text-primary"},te=["disabled"],oe=["disabled"],ce=b({__name:"movie",setup(y){const t=P(),{currentPage:o,totalPages:a}=A(t),f=()=>{t.currentPage>1&&t.fetchPage(t.currentPage-1)},v=()=>{t.currentPage<t.totalPages&&t.fetchPage(t.currentPage+1)},c=async r=>{typeof r=="number"&&(t.setCurrentGenre(r),await V("movie",t.getCurrentPage,r))};return h(()=>{c(t.getCurrentGenre),t.fetchPage(t.getCurrentPage),console.log(t.getMovies)}),(r,i)=>{const u=Z,m=E,p=H,g=L;return M(),k(R,null,[n(u),n(U,null,{default:N(()=>[n(m),n(p,{class:"mt-6 mb-4 sm:mt-12 sm:mb-10",filter:e(t).getCurrentGenre,"values-filter":e(t).getGenres,onHandleFilter:c},null,8,["filter","values-filter"]),n(g,{class:"pt-0","grup-stream":e(t).getMovies},null,8,["grup-stream"]),s("div",ee,[s("button",{onClick:f,disabled:e(o)===1},[n(e(d),{icon:e(j)},null,8,["icon"])],8,te),s("span",null,l(e(o))+" - "+l(e(a)),1),s("button",{onClick:v,disabled:e(o)===e(a)},[n(e(d),{icon:e(q)},null,8,["icon"])],8,oe)])]),_:1})],64)}}});export{ce as default};
